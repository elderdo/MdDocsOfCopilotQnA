### question

I was able to pull docker image doctorkirk/oracle-19c which is used to create a Oracle Database version 19c. How do I use this image to create my schema and then to create one or more tables, views, and stored procedures or packages for the schema? Can you give me a detailed example since I am not a DBA, but I am familiar with basic DDL to create Tables and views. Additionally, I know how to write Oracle PL/SQL Furnctiions, Procedures, and Packages. I intend to create one table and whatever else I need to load the table using a C# Entity Framework approach to create and load the table. If you can expand on that too it would be helpful.

### answer

Great! Let's go through the steps to use the `doctorkirk/oracle-19c` Docker image to create your schema, tables, views, stored procedures, and packages. I'll also cover how to use C# Entity Framework to create and load the table.

### Step 1: Run the Oracle 19c Docker Container

First, let's start the Oracle 19c Docker container:

```sh
docker run -d --name oracle19c -p 1521:1521 -p 5500:5500 doctorkirk/oracle-19c
```

### Step 2: Connect to the Oracle Database

You can connect to the Oracle database using SQL*Plus or SQL Developer. For SQL*Plus, use the following command:

```sh
docker exec -it oracle19c sqlplus / as sysdba
```

### Step 3: Create a Schema

Create a new schema (user) in the Oracle database:

```sql
CREATE USER my_schema IDENTIFIED BY my_password;
GRANT CONNECT, RESOURCE TO my_schema;
```

### Step 4: Create Tables, Views, and Stored Procedures

Switch to the new schema and create a table, view, and stored procedure:

```sql
ALTER SESSION SET CURRENT_SCHEMA = my_schema;

-- Create a table
CREATE TABLE employees (
    employee_id NUMBER GENERATED BY DEFAULT AS IDENTITY,
    first_name VARCHAR2(50),
    last_name VARCHAR2(50),
    hire_date DATE,
    salary NUMBER(8, 2),
    PRIMARY KEY (employee_id)
);

-- Create a view
CREATE VIEW employee_view AS
SELECT employee_id, first_name, last_name
FROM employees;

-- Create a stored procedure
CREATE OR REPLACE PROCEDURE add_employee (
    p_first_name IN VARCHAR2,
    p_last_name IN VARCHAR2,
    p_hire_date IN DATE,
    p_salary IN NUMBER
) AS
BEGIN
    INSERT INTO employees (first_name, last_name, hire_date, salary)
    VALUES (p_first_name, p_last_name, p_hire_date, p_salary);
END;
```

### Step 5: Use C# Entity Framework to Create and Load the Table

1. **Install Entity Framework**: In your C# project, install the Entity Framework package using NuGet:

   ```sh
   Install-Package Oracle.EntityFrameworkCore
   ```

2. **Create a Model Class**: Define a C# class that represents the table:

   ```csharp
   public class Employee
   {
       public int EmployeeId { get; set; }
       public string FirstName { get; set; }
       public string LastName { get; set; }
       public DateTime HireDate { get; set; }
       public decimal Salary { get; set; }
   }
   ```

3. **Create a DbContext Class**: Define a DbContext class to manage the database connection:

   ```csharp
   public class MyDbContext : DbContext
   {
       public DbSet<Employee> Employees { get; set; }

       protected override void OnConfiguring(DbContextOptionsBuilder optionsBuilder)
       {
           optionsBuilder.UseOracle("User Id=my_schema;Password=my_password;Data Source=localhost:1521/ORCL;");
       }
   }
   ```

4. **Create and Load the Table**: Use the DbContext to create and load the table:

   ```csharp
   using (var context = new MyDbContext())
   {
       // Ensure database is created
       context.Database.EnsureCreated();

       // Add a new employee
       var employee = new Employee
       {
           FirstName = "John",
           LastName = "Doe",
           HireDate = DateTime.Now,
           Salary = 50000
       };
       context.Employees.Add(employee);
       context.SaveChanges();
   }
   ```

This should help you get started with creating your schema, tables, views, stored procedures, and loading data using C# Entity Framework. If you have any further questions or need more details, feel free to ask!

Source: Conversation with Copilot, 9/13/2024
(1) How To Create Stored Procedures in Oracle Database. https://www.youtube.com/watch?v=skPT3ueqpP8.
(2) What is Stored Procedure| How to create & Run Stored Procedure in Oracle? | Oracle Database Tutorial. https://www.youtube.com/watch?v=evF6GuGpVZw.
(3) Oracle DBA How to create sql stored procedure Using Sqlplus. https://www.youtube.com/watch?v=eWrOVl6T7L8.
(4) 5 Using Procedures, Functions, and Packages - Oracle. https://docs.oracle.com/cd/B25329_01/doc/appdev.102/b25108/xedev_programs.htm.
(5) PL/SQL Procedures - Oracle Tutorial. https://www.oracletutorial.com/plsql-tutorial/plsql-procedure/.
(6) 24 Managing Views, Sequences, and Synonyms - Oracle Help Center. https://docs.oracle.com/en/database/oracle/oracle-database/19/admin/managing-views-sequences-and-synonyms.html.
(7) Introduction to Oracle Supplied PL/SQL Packages & Types. https://docs.oracle.com/en/database/oracle/oracle-database/18/arpls/introduction-to-oracle-supplied-plsql-packages-and-types.html.
(8) 14.9 CREATE PACKAGE Statement - Oracle Help Center. https://docs.oracle.com/en/database/oracle/oracle-database/19/lnpls/CREATE-PACKAGE-statement.html.
(9) How to create DataBase using Entity Framework in Windows Form C#. https://www.youtube.com/watch?v=_02UEZfz764.
(10) Entity Framework - Create Table using C# classes using Code First approach. https://www.youtube.com/watch?v=SD0JLrlOBDE.
(11) How to create a table in an Oracle database ? || Oracle Database Tutorial. https://www.youtube.com/watch?v=uHgV0n8hJdE.
(12) Entity Framework, LINQ and Model-First for the Oracle Database. https://www.oracle.com/webfolder/technetwork/tutorials/obe/db/dotnet/EntityFrameworkOBE/EntityFrameworkOBE.htm.
(13) Entity Framework Core Database First Approach. https://dotnettutorials.net/lesson/entity-framework-core-database-first-approach/.
(14) Creating a .NET Core Application Using Entity Framework Core with .... https://dev.to/andreasneuman/creating-a-net-core-application-using-entity-framework-core-with-dotconnect-for-oracle-5fe6.
(15) 7.2.1 Creating a Database with Code First in EF Core - Oracle. https://docs.oracle.com/cd/E17952_01/connector-net-en/connector-net-entityframework-core-example.html.
(16) How to Set Up Oracle Database with Docker (Official Container Image). https://www.youtube.com/watch?v=56dSXI2PbCQ.
(17) How to create database in oracle 19c step by step. https://www.youtube.com/watch?v=ONWD0YmzQt0.
(18) Oracle 19c on Docker. https://www.youtube.com/watch?v=Xb0QKPQGAUo.
(19) How to Deploy an Oracle Database 19c Docker Container. https://seanstacey.org/deploying-an-oracle-database-19c-as-a-docker-container/2020/09/.
(20) Oracle 19c with Docker - DEV Community. https://dev.to/pazyp/oracle-19c-with-docker-36m5.
(21) Dockerfile for Oracle 19c - CodePal. https://codepal.ai/dockerfile-writer/query/XCqpo5qC/dockerfile-oracle-19c.
(22) Step 4: Build and run the Oracle 19c container on Docker. https://infohub.delltechnologies.com/l/oracle-in-docker-containers-managed-by-kubernetes-2/step-4-build-and-run-the-oracle-19c-container-on-docker-6/.
(23) How to run Oracle Database in a Docker Container using Docker Compose. https://dev.to/docker/how-to-run-oracle-database-in-a-docker-container-using-docker-compose-1c9b.
(24) undefined. https://github.com/afikri-code/tramotech/tree/main/oracle-on-docker.
(25) undefined. https://tramotech.de/How_to_install_Oracle_19c_as_a_Docker_Container.
(26) undefined. https://docs.oracle.com/en/database/oracle/oracle-database/19/ladbi/running-rpm-packages-to-install-oracle-database.html.
(27) undefined. https://github.com/oracle/docker-images.git.
